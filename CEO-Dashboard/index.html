<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>CEO 决策效能驾驶舱 | Mind Engineering Lab</title>
    
    <!-- 社交媒体分享优化 -->
    <meta property="og:title" content="CEO 决策效能驾驶舱">
    <meta property="og:description" content="基于SNR模型的CEO决策系统效能实时监测平台">
    <meta property="og:type" content="website">
    
    <!-- 1. 样式引擎 (Tailwind) -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- 2. 核心框架 (React & ReactDOM) - 切换到 jsDelivr (Gcore国内镜像) -->
    <script src="https://gcore.jsdelivr.net/npm/react@18.2.0/umd/react.production.min.js"></script>
    <script>
        // CDN 加载失败降级方案
        if (!window.React) {
            console.warn('React CDN加载失败，尝试加载本地副本');
            document.write('<script src="./local/react.production.min.js"><\/script>');
        }
    </script>
    <script src="https://gcore.jsdelivr.net/npm/react-dom@18.2.0/umd/react-dom.production.min.js"></script>
    <script>
        if (!window.ReactDOM) {
            console.warn('ReactDOM CDN加载失败，尝试加载本地副本');
            document.write('<script src="./local/react-dom.production.min.js"><\/script>');
        }
    </script>
    
    <!-- 3. 编译器 (Babel) - 同样使用 jsDelivr -->
    <script src="https://gcore.jsdelivr.net/npm/babel-standalone@7.22.20/babel.min.js"></script>
    <script>
        if (!window.Babel) {
            console.warn('Babel CDN加载失败，尝试加载本地副本');
            document.write('<script src="./local/babel.min.js"><\/script>');
        }
    </script>
    
    <!-- 4. 加载样式 -->
    <style>
        body { 
            background-color: #020617; 
            color: #94a3b8; 
            overflow: hidden; 
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
        }
        .loading-container { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            background: #020617; 
            z-index: 9999; 
            transition: opacity 0.5s ease-out; 
        }
        .loading-text { 
            font-family: 'SF Mono', monospace; 
            color: #06b6d4; 
            font-size: 1.25rem; 
            margin-bottom: 1rem; 
            text-transform: uppercase; 
            letter-spacing: 2px; 
        }
        .loading-bar { 
            width: 200px; 
            height: 4px; 
            background: #1e293b; 
            border-radius: 2px; 
            overflow: hidden; 
        }
        .loading-progress { 
            width: 100%; 
            height: 100%; 
            background: #06b6d4; 
            animation: progress 2s infinite ease-in-out; 
            transform-origin: 0% 50%; 
        }
        .force-start-btn { 
            margin-top: 30px; 
            padding: 10px 20px; 
            border: 1px solid #334155; 
            color: #64748b; 
            background: transparent; 
            border-radius: 4px; 
            font-size: 12px; 
            cursor: pointer; 
            display: none;
            transition: all 0.3s ease;
        }
        .force-start-btn:hover {
            border-color: #06b6d4;
            color: #06b6d4;
        }
        @keyframes progress { 
            0% { transform: scaleX(0); } 
            50% { transform: scaleX(0.5); } 
            100% { transform: scaleX(1); opacity: 0; } 
        }
        /* 隐藏滚动条但保留功能 */
        .scrollbar-hide {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }
        .scrollbar-hide::-webkit-scrollbar {
            display: none;
        }
    </style>
</head>
<body>
    <!-- 加载与错误提示层 -->
    <div id="loader" class="loading-container">
        <div class="loading-text">Mind Engine Booting...</div>
        <div class="loading-bar">
            <div class="loading-progress"></div>
        </div>
        <div style="margin-top: 15px; font-size: 12px; color: #475569;">Initializing Decision Matrix...</div>
        <!-- 备用按钮：如果卡住，显示此按钮 -->
        <button id="forceBtn" class="force-start-btn" onclick="window.forceEnterSystem()">
            [手动进入系统 / Force Enter]
        </button>
    </div>

    <!-- React 应用根节点 -->
    <div id="root"></div>

    <!-- 兜底脚本：5秒后如果还没进去，显示手动按钮 -->
    <script>
        // 全局函数：强制进入系统
        window.forceEnterSystem = function() {
            const loader = document.getElementById('loader');
            if (loader) {
                loader.style.opacity = '0';
                setTimeout(() => {
                    loader.style.display = 'none';
                    document.body.style.overflow = 'auto';
                }, 500);
            }
        };

        // 5秒后显示手动进入按钮
        setTimeout(() => {
            const btn = document.getElementById('forceBtn');
            const loader = document.getElementById('loader');
            if (btn && loader && loader.style.display !== 'none') {
                btn.style.display = 'block';
            }
        }, 5000);
    </script>

    <!-- 加载 React 业务逻辑 -->
    <script src="./app.js" type="text/babel"></script>
</body>
</html>